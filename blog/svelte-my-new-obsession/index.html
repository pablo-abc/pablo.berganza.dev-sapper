<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <link href=apple-icon-57x57.png rel=apple-touch-icon sizes=57x57> <link href=apple-icon-60x60.png rel=apple-touch-icon sizes=60x60> <link href=apple-icon-72x72.png rel=apple-touch-icon sizes=72x72> <link href=apple-icon-76x76.png rel=apple-touch-icon sizes=76x76> <link href=apple-icon-114x114.png rel=apple-touch-icon sizes=114x114> <link href=apple-icon-120x120.png rel=apple-touch-icon sizes=120x120> <link href=apple-icon-144x144.png rel=apple-touch-icon sizes=144x144> <link href=apple-icon-152x152.png rel=apple-touch-icon sizes=152x152> <link href=apple-icon-180x180.png rel=apple-touch-icon sizes=180x180> <link href=android-icon-192x192.png rel=icon sizes=192x192 type=image/png> <link href=favicon-32x32.png rel=icon sizes=32x32 type=image/png> <link href=favicon-96x96.png rel=icon sizes=96x96 type=image/png> <link href=favicon-16x16.png rel=icon sizes=16x16 type=image/png> <link href=manifest.json rel=manifest> <meta content=#E34495 name=msapplication-TileColor> <meta content=ms-icon-144x144.png name=msapplication-TileImage> <meta content=#E34495 name=theme-color> <base href=/ > <link href="https://fonts.googleapis.com/css2?family=Overpass:wght@400;600;700&family=Roboto+Slab:wght@400;600;700&display=swap" rel=stylesheet> <link href=dracula.css rel=stylesheet> <link href=global.css rel=stylesheet> <link href=manifest.json rel=manifest crossorigin=use-credentials> <link href=favicon.ico rel=icon type=image/png> <script src=https://unpkg.com/yt-vid@0.0.5/dist/yt-vid/yt-vid.esm.js type=module></script> <script src=https://unpkg.com/yt-vid@0.0.5/dist/yt-vid/yt-vid.js nomodule=""></script> <link href=client/main.2105381947.css rel=stylesheet><link href=client/client.bf27dbf9.css rel=stylesheet><link href=client/Blog.88733f84.css rel=stylesheet> <noscript id=sapper-head-start></noscript><title>Svelte: my new obsession | Pablo Berganza</title><meta content="Pablo Berganza" name=author><meta content="I gave Svelte a try and ended up rewriting my whole site" name=description><meta content="Svelte: my new obsession | Pablo Berganza" itemdrop=name><meta content="I gave Svelte a try and ended up rewriting my whole site" itemdrop=description><meta content=https://pablo.berganza.dev/img/blog-pics/2020-04-20-800.jpg name=twitter:image> <meta content=https://pablo.berganza.dev/img/blog-pics/2020-04-20-800.jpg property=og:image> <meta content=summary_large_image name=twitter:card><meta content="Svelte: my new obsession | Pablo Berganza" name=twitter:title><meta content="I gave Svelte a try and ended up rewriting my whole site" name=twitter:description><meta content=Pablo_ABC name=twitter:site><meta content=Pablo_ABC name=twitter:creator><meta content="Svelte: my new obsession | Pablo Berganza" property=og:title><meta content=https://pablo.berganza.dev/blog/svelte-my-new-obsession property=og:url><meta content="Pablo Berganza" property=og:site_name><meta content="I gave Svelte a try and ended up rewriting my whole site" property=og:description><meta content=en property=og:locale><meta content=1441268341 property=fb:admins><meta content=2097322913669232 property=fb:app_id><meta content=article property=og:type><meta content="Pablo Berganza" property=article:author> <meta content=2020-04-20 property=article:published_time> <meta name=twitter:label1 value="Reading time"> <meta name=twitter:label2 value=Author> <meta name=twitter:data1 value="9 min"> <meta name=twitter:data2 value="Pablo Berganza"><noscript id=sapper-head-end></noscript> <link href=/client/client.bf27dbf9.js rel=preload crossorigin=use-credentials as=script></head> <body> <div id=sapper> <header class=svelte-yz3r0n><nav class=svelte-1ri5i98><div class="svelte-1ri5i98 left-nav"><a href=./ class=svelte-1ri5i98 id=logo><span class=svelte-1ri5i98>Pablo</span> <span class=svelte-1ri5i98>Berganza</span></a> <div class="svelte-1ri5i98 nav-items"><a href=blog rel=prefetch class="svelte-1ri5i98 nav-item" id=blog-nav><span class=svelte-1ri5i98>Blog</span> </a><a href=contact class="svelte-1ri5i98 nav-item" id=contact-nav><span class=svelte-1ri5i98>Contact Me</span> </a></div></div> <div class="svelte-1ri5i98 right-nav"><a href=es/blog/svelte-my-new-obsession rel=prefetch>es</a> <a href=https://github.com/pablo-abc rel="noopener noreferrer" target=_blank title=GitHub aria-label=GitHub class="nav-item sm svelte-1r50gsv"><svg aria-hidden=true class="fa-svelte svelte-p8vizn" role=img viewBox="0 0 496 512" xmlns=http://www.w3.org/2000/svg><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z" fill=currentColor></path></svg> </a> <a href=https://www.instagram.com/berganzapablo/ rel="noopener noreferrer" target=_blank title=Instagram aria-label=Instagram class="nav-item sm svelte-1r50gsv"><svg aria-hidden=true class="fa-svelte svelte-p8vizn" role=img viewBox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z" fill=currentColor></path></svg> </a> <a href=https://www.linkedin.com/in/PabloABC rel="noopener noreferrer" target=_blank title=LinkedIn aria-label=LinkedIn class="nav-item sm svelte-1r50gsv"><svg aria-hidden=true class="fa-svelte svelte-p8vizn" role=img viewBox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z" fill=currentColor></path></svg> </a> <a href=https://twitter.com/Pablo_ABC rel="noopener noreferrer" target=_blank title=Twitter aria-label=Twitter class="nav-item sm svelte-1r50gsv"><svg aria-hidden=true class="fa-svelte svelte-p8vizn" role=img viewBox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z" fill=currentColor></path></svg> </a></div> </nav></header> <main class=svelte-yz3r0n> <article class=main><header class="svelte-1wyd3lp title"><h1 class=svelte-1wyd3lp><span class=svelte-1wyd3lp>Svelte: my new obsession</span></h1> <h4 class="svelte-1wyd3lp description"><span class=svelte-1wyd3lp>I gave Svelte a try and ended up rewriting my whole site</span></h4></header> <div><img alt="Thessaloniki, Greece" class="banner svelte-ol1t6h" src=img/blog-pics/2020-04-20-placeholder.jpg title="Thessaloniki, Greece"> <div class="svelte-1wyd3lp ttr-created"><span class="svelte-1wyd3lp ttr"><svg aria-hidden=true class="fa-svelte svelte-p8vizn" role=img viewBox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm61.8-104.4l-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z" fill=currentColor></path></svg> 9 min </span> <span class="svelte-1wyd3lp created"><svg aria-hidden=true class="fa-svelte svelte-p8vizn" role=img viewBox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><path d="M148 288h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z" fill=currentColor></path></svg> 2020-04-20</span></div> <div class="svelte-1wyd3lp tag-links">Tags: <a href=blog/tags/svelte class="svelte-1wyd3lp tag-link">svelte </a><a href=blog/tags/javascript class="svelte-1wyd3lp tag-link">javascript </a><a href="blog/tags/static sites" class="svelte-1wyd3lp tag-link">static sites </a><a href=blog/tags/programming class="svelte-1wyd3lp tag-link">programming </a></div> <section class="svelte-1wyd3lp content"><p>I admit I am the kind of person who gets immediately obsessed with something if it is new and interesting. That's how I got into <a href=https://clojure.org rel="noopener noreferrer" target=_blank title=Clojure> Clojure </a>, how I got into <a href=https://www.rust-lang.org/ rel="noopener noreferrer" target=_blank title=Rust> Rust </a>, and how I got into the topic I'm writing about today: <a href=https://svelte.dev/ rel="noopener noreferrer" target=_blank title=Svelte> Svelte </a>.</p> <p>Svelte is not a new language I am learning, as it was with Rust and Clojure. It's a JavaScript framework for building single page applications (SPA). Like React, Vue or Angular. Its syntax may remind some people of Vue; but it has a major difference with the typical framework. Svelte does not have a runtime and, unlike the rest, it's not bundled with the rest of your code. Svelte is a compiler. It compiles your components into reactive JavaScript code that modifies the DOM directly. It will produce a small and more performant bundle.</p> <h2 id=how-does-it-look>How does it look?</h2> <p>Svelte tries to stay as close as possible to semantically correct HTML. This means that a simple HTML editor would do the trick for editing a Svelte component.</p> <p>For example, the most minimalist component may look like this:</p> <pre class="hljs html"><code><span class=hljs-tag>&lt;<span class=hljs-name>p</span>></span>Hello world!<span class=hljs-tag>&lt;/<span class=hljs-name>p</span>></span></code></pre><p>That's it! That's a valid Svelte component that the compiler will understand.</p> <h2 id=how-to-make-it-reactive>How to make it reactive?</h2> <p>Of course if you were going to write components like that, you would be better off writing plain HTML. The reason you're using a JavaScript framework is because you need a way to handle reactivity in your web application. So we need a way to add JavaScript to our component. As you would do with plain HTML, JavaScript can be added inside a <code>script</code> tag like this:</p> <pre class="hljs html"><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-built_in>console</span>.log(<span class=hljs-string>'Hello world!'</span>)
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span></code></pre><p>In order to add “state” to our component we just need to declare JavaScript variables:</p> <pre class="hljs html"><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>let</span> message = <span class=hljs-string>'Hello world!'</span>
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span></code></pre><p>These variables can be accessed in the template by using curly braces. This is similar to how Vue does it.</p> <pre class="hljs html"><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>let</span> messsage = <span class=hljs-string>'Hello world!'</span>
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>p</span>></span>{message}<span class=hljs-tag>&lt;/<span class=hljs-name>p</span>></span></code></pre><p>The <code>message</code> variable is reactive. If it were to change for some reason (e.g. an event), the contents of the <code>p</code> tag would be immediately updated. For example, we can create an input that updates the content of <code>message</code>.</p> <p>The template of a Svelte component does not need to be a single element, so we can just add an <code>input</code> element right after the <code>p</code> element.</p> <pre class="hljs html"><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>let</span> message = <span class=hljs-string>'Hello world!'</span>

  <span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>onInput</span>(<span class=hljs-params>event</span>) </span>{
    message = event.target.value
  }
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>p</span>></span>{message}<span class=hljs-tag>&lt;/<span class=hljs-name>p</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>input</span> <span class=hljs-attr>value</span>=<span class=hljs-string>{message}</span> <span class=hljs-attr>on:input</span>=<span class=hljs-string>{onInput}</span>></span></code></pre><p>This would end up looking like this:</p> <iframe src=https://pablo-abc.github.io/pablo.berganza.dev-examples/svelte-basic-text-input/ title=text-input></iframe> <p>But this is still too complicated. Svelte provides some “magic” directives in order to make certain operations easier. The <code>bind</code> directive helps with two-way data binding.</p> <pre class="hljs html"><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>let</span> message = <span class=hljs-string>'Hello world!'</span>
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>p</span>></span>{message}<span class=hljs-tag>&lt;/<span class=hljs-name>p</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>input</span> <span class=hljs-attr>bind:value</span>=<span class=hljs-string>{message}</span>></span></code></pre><p>This would result in the same output we saw above!</p> <blockquote> <p>Svelte only handles reactivity on assignments. This means that array methods like <code>push</code> and <code>pop</code> won't trigger updates on the components.</p> </blockquote> <p>Svelte also provides <a href=https://handlebarsjs.com/ rel="noopener noreferrer" target=_blank title=Handlebars> Handlebars </a> like blocks to handle conditional rendering, asynchronicity and loops inside the templates.</p> <h2 id=what-about-styling>What about styling?</h2> <p>Svelte provides a way to provide scoped styles to your components. As expected, this is done via the <code>style</code> HTML tag. Svelte will assign unique classes to each of your component's elements during compilation. You can use any valid CSS inside the tag, but a rollup/webpack plugin may be used to accept your favorite variant (e.g. SASS).</p> <pre class="hljs html"><code><span class=hljs-tag>&lt;<span class=hljs-name>h1</span>></span>Hello world!<span class=hljs-tag>&lt;/<span class=hljs-name>h1</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>style</span>></span><span class=css>
  <span class=hljs-selector-tag>h1</span> {
    <span class=hljs-attribute>color</span>: purple;
  }
</span><span class=hljs-tag>&lt;/<span class=hljs-name>style</span>></span></code></pre><p>On compile time, the <code>h1</code> tag will be assigned a class generated by Svelte and a CSS selector for this class will be added to the <code>h1</code> on the <code>style</code> tag.</p> <p>If you need to make the selector global you can wrap it in <code>:global(...)</code>. For the example above, if we replaced <code>h1</code> for <code>:global(h1)</code> it would apply the style globally to all <code>h1</code> elements of the project. This can be really useful if your project contains dynamically generated HTML not controlled by Svelte, since Svelte wouldn't be able to assign unique classes to the elements inside it. Something like <code>div :global(h1)</code> would select all <code>h1</code> elements inside all <code>div</code> elements of the component. This can be used to guarantee that the style remains scoped to the component.</p> <p>Of course, you can always have a global CSS file to handle common styling for all components.</p> <h2 id=a-more-complete-example>A more complete example</h2> <p>Here's how a simple to-do app would look like in Svelte:</p> <pre class="hljs html"><code><span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>let</span> todos = [], value = <span class=hljs-string>''</span>;
  <span class=hljs-keyword>let</span> filter = <span class=hljs-string>'all'</span>;
  <span class=hljs-comment>// The $: tells Svelte to make the statement reactive.</span>
  <span class=hljs-comment>// In this case, the assignment statement to "filtered" will be run</span>
  <span class=hljs-comment>// everytime "todos" changes.</span>
  $: filtered = todos.filter(<span class=hljs-function><span class=hljs-params>todo</span> =></span> {
    <span class=hljs-keyword>if</span> (filter === <span class=hljs-string>'checked'</span>) <span class=hljs-keyword>return</span> todo.checked
    <span class=hljs-keyword>if</span> (filter === <span class=hljs-string>'unchecked'</span>) <span class=hljs-keyword>return</span> !todo.checked
    <span class=hljs-keyword>return</span> todo
  })
  <span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>addTodo</span>(<span class=hljs-params></span>) </span>{
    <span class=hljs-keyword>if</span> (!value) <span class=hljs-keyword>return</span>;
    todos = [...todos, { value, <span class=hljs-attr>id</span>: <span class=hljs-built_in>Date</span>.now(), <span class=hljs-attr>checked</span>: <span class=hljs-literal>false</span> }];
    value = <span class=hljs-string>''</span>;
  }
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>form</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>label</span> <span class=hljs-attr>for</span>=<span class=hljs-string>all</span>></span>
    <span class=hljs-tag>&lt;<span class=hljs-name>input</span> <span class=hljs-attr>type</span>=<span class=hljs-string>radio</span> <span class=hljs-attr>id</span>=<span class=hljs-string>all</span> <span class=hljs-attr>value</span>=<span class=hljs-string>all</span> <span class=hljs-attr>bind:group</span>=<span class=hljs-string>{filter}</span>></span>
    All
  <span class=hljs-tag>&lt;/<span class=hljs-name>label</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>label</span> <span class=hljs-attr>for</span>=<span class=hljs-string>checked</span>></span>
    <span class=hljs-tag>&lt;<span class=hljs-name>input</span> <span class=hljs-attr>type</span>=<span class=hljs-string>radio</span> <span class=hljs-attr>id</span>=<span class=hljs-string>checked</span> <span class=hljs-attr>value</span>=<span class=hljs-string>checked</span> <span class=hljs-attr>bind:group</span>=<span class=hljs-string>{filter}</span>></span>
    Checked
  <span class=hljs-tag>&lt;/<span class=hljs-name>label</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>label</span> <span class=hljs-attr>for</span>=<span class=hljs-string>unchecked</span>></span>
    <span class=hljs-tag>&lt;<span class=hljs-name>input</span> <span class=hljs-attr>type</span>=<span class=hljs-string>radio</span> <span class=hljs-attr>id</span>=<span class=hljs-string>unchecked</span> <span class=hljs-attr>value</span>=<span class=hljs-string>unchecked</span> <span class=hljs-attr>bind:group</span>=<span class=hljs-string>{filter}</span>></span>
    Unchecked
  <span class=hljs-tag>&lt;/<span class=hljs-name>label</span>></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>form</span>></span>
<span class=hljs-tag>&lt;<span class=hljs-name>form</span> <span class=hljs-attr>on:submit</span>|<span class=hljs-attr>preventDefault</span>=<span class=hljs-string>{addTodo}</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>input</span> <span class=hljs-attr>bind:value</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>button</span> <span class=hljs-attr>type</span>=<span class=hljs-string>submit</span>></span>Add Todo<span class=hljs-tag>&lt;/<span class=hljs-name>button</span>></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>form</span>></span>
<span class=hljs-tag>&lt;<span class=hljs-name>ul</span>></span>
  {#each filtered as todo, i (todo.id)}
    <span class=hljs-tag>&lt;<span class=hljs-name>li</span>></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>input</span>
        <span class=hljs-attr>id</span>=<span class=hljs-string>{todo.id}</span>
        <span class=hljs-attr>bind:checked</span>=<span class=hljs-string>{todo.checked}</span>
        <span class=hljs-attr>type</span>=<span class=hljs-string>"checkbox"</span>
        ></span>
      {todo.value}
    <span class=hljs-tag>&lt;/<span class=hljs-name>li</span>></span>
  {/each}
<span class=hljs-tag>&lt;/<span class=hljs-name>ul</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>style</span>></span><span class=css>
  <span class=hljs-selector-tag>label</span> {
      <span class=hljs-attribute>display</span>: inline-block;
      <span class=hljs-attribute>margin</span>: <span class=hljs-number>0</span> <span class=hljs-number>10px</span>;
  }
  <span class=hljs-selector-tag>li</span> {
      <span class=hljs-attribute>list-style</span>: none;
  }
</span><span class=hljs-tag>&lt;/<span class=hljs-name>style</span>></span></code></pre><iframe src=https://pablo-abc.github.io/pablo.berganza.dev-examples/svelte-basic-todo-app/ title=todo-app height=315px></iframe> <p>This example uses some features I didn't talk about, but the <a href=https://svelte.dev/tutorial/basics rel="noopener noreferrer" target=_blank title="Svelte official tutorial"> official tutorial </a> is great if you're interested in learning more.</p> <h2 id=other-features>Other features</h2> <p>Svelte also provides some other nice features, such as:</p> <ul> <li>Built-in transitions and animations.</li> <li>Easily access the document's head, window and body.</li> <li>Lifecycles for the components.</li> <li>Global stores.</li> <li>Compatibility with server side rendering.</li> <li>Components can be exported as web components.</li> </ul> <h2 id=why-rewrite-the-whole-site>Why rewrite the whole site?</h2> <p>Previously my site was written using <a href=https://perun.io rel="noopener noreferrer" target=_blank title=Perun> Perun </a>. It is a nice static site generator for Clojure that has tons of flexibility, since each step of the generation can be intercepted. But there were certain aspects of the generation that were hard to change or had little documentation. (I am not bashing on Perun, it is a perfectly great tool. I just wanted more freedom).</p> <p>Perun generates a plain HTML output with no JavaScript. JavaScript needs to be injected manually. Each page is rendered by renderer functions written in Clojure which output HTML. Unless you installed extra packages, there is no built-in support for scoped styling. And, since the generator runs on top of the JVM, the generation of the site was quite slow.</p> <p>This site is not written with plain Svelte. It is using <a href=https://sapper.svelte.dev rel="noopener noreferrer" target=_blank title=Sapper> Sapper </a>. Sapper is a framework for Svelte inspired in <a href=https://nextjs.org rel="noopener noreferrer" target=_blank title=Next.JS> Next.JS </a> that allows to build server side rendered web applications. It can also export a static site like Next.JS does. This gives you much more freedom on how the site is generated at the cost of a bit more coding. For example, just as I did with Perun, each post's content source is a markdown file. But for Sapper I manually had to write the process the reads the markdown files and generates the HTML. This allowed me to use libraries I am much more familiar with, such as <a href=https://github.com/markedjs/marked rel="noopener noreferrer" target=_blank title=Marked> Marked </a> for markdown parsing and <a href=https://highlightjs.org/ rel="noopener noreferrer" target=_blank title=Highlight.js> Highlight.js </a> for code highlighting.</p> <p>The resulting site works as an SPA and has some features that I couldn't do previously, some of them:</p> <ul> <li>Highlighting for GraphQL code.</li> <li>Add working examples of code (such as the ones above).</li> <li>Navigate the whole site without having to do a page reload.</li> <li>Lazy loading of images.</li> <li>Embedding external elements to blog posts, like YouTube videos.</li> </ul> <p>It also brought some DX improvements such as:</p> <ul> <li>Reusable components.</li> <li>Scoped CSS styling, which helped with some headaches I had previously due to my lack of CSS knowledge.</li> <li>Much faster generation of the static files.</li> <li>Easily add more interactive elements to the site. (I might add a search bar for my blog posts at a later time).</li> <li>It's easier to follow a more maintainable code structure.</li> </ul> <p>One downside to using Svelte is its lack of TypeScript support (although this is being worked on). Another downside is that Sapper is still in early development, so I would not recommend it for serious projects. Svelte itself is ready for production, though. It also has a much smaller ecosystem than other mainstream frameworks.</p> <h2 id=conclusion>Conclusion</h2> <p>Even taking into account the downsides mentioned before, Svelte/Sapper has been a joy to work with. In under 20 hours of combined work I managed to rewrite my whole site. Svelte should be an excellent choice for performance critical web applications, and it's syntax is easier to grasp compared to other frameworks. It should definitely not be considered a “toy” framework and I encourage you to add it to your tool set.</p> <p>As a little extra, here's the talk that got me excited about Svelte. I recommend everyone with a slight interest on Svelte to watch it.</p> <div class=yt-vid> <yt-vid allowfullscreen alt="Rethinking Reactivity - Rich Harris" src=https://www.youtube-nocookie.com/embed/AdNJ3fydeao></yt-vid> </div> </section> <footer class=svelte-1wyd3lp><ul class="svelte-52p72f share-buttons"><li class=svelte-52p72f>Share this:</li> <li class=svelte-52p72f><a href="https://www.facebook.com/sharer/sharer.php?u=https://pablo.berganza.dev/svelte-my-new-obsession&quote=I gave Svelte a try and ended up rewriting my whole site" rel="noopener noreferrer" target=_blank title="Share on Facebook"><svg aria-hidden=true class="fa-svelte svelte-p8vizn" role=img viewBox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><path d="M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z" fill=currentColor></path></svg> <span class="sr-only svelte-n6z7xj">Share on Facebook</span> </a></li> <li class=svelte-52p72f><a href="https://twitter.com/intent/tweet?source=https://pablo.berganza.dev/svelte-my-new-obsession&text=I gave Svelte a try and ended up rewriting my whole site:%20https://pablo.berganza.dev/svelte-my-new-obsession&via=Pablo_ABC" rel="noopener noreferrer" target=_blank title=Tweet><svg aria-hidden=true class="fa-svelte svelte-p8vizn" role=img viewBox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><path d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-48.9 158.8c.2 2.8.2 5.7.2 8.5 0 86.7-66 186.6-186.6 186.6-37.2 0-71.7-10.8-100.7-29.4 5.3.6 10.4.8 15.8.8 30.7 0 58.9-10.4 81.4-28-28.8-.6-53-19.5-61.3-45.5 10.1 1.5 19.2 1.5 29.6-1.2-30-6.1-52.5-32.5-52.5-64.4v-.8c8.7 4.9 18.9 7.9 29.6 8.3a65.447 65.447 0 0 1-29.2-54.6c0-12.2 3.2-23.4 8.9-33.1 32.3 39.8 80.8 65.8 135.2 68.6-9.3-44.5 24-80.6 64-80.6 18.9 0 35.9 7.9 47.9 20.7 14.8-2.8 29-8.3 41.6-15.8-4.9 15.2-15.2 28-28.8 36.1 13.2-1.4 26-5.1 37.8-10.2-8.9 13.1-20.1 24.7-32.9 34z" fill=currentColor></path></svg> <span class="sr-only svelte-n6z7xj">Tweet</span> </a></li> <li class=svelte-52p72f><a href="https://getpocket.com/save?url=https://pablo.berganza.dev/svelte-my-new-obsession&title=Svelte: my new obsession" rel="noopener noreferrer" target=_blank title="Add to Pocket"><svg aria-hidden=true class="fa-svelte svelte-p8vizn" role=img viewBox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><path d="M407.6 64h-367C18.5 64 0 82.5 0 104.6v135.2C0 364.5 99.7 464 224.2 464c124 0 223.8-99.5 223.8-224.2V104.6c0-22.4-17.7-40.6-40.4-40.6zm-162 268.5c-12.4 11.8-31.4 11.1-42.4 0C89.5 223.6 88.3 227.4 88.3 209.3c0-16.9 13.8-30.7 30.7-30.7 17 0 16.1 3.8 105.2 89.3 90.6-86.9 88.6-89.3 105.5-89.3 16.9 0 30.7 13.8 30.7 30.7 0 17.8-2.9 15.7-114.8 123.2z" fill=currentColor></path></svg> <span class="sr-only svelte-n6z7xj">Add to Pocket</span> </a></li> <li class=svelte-52p72f><a href="http://www.reddit.com/submit?url=https://pablo.berganza.dev/svelte-my-new-obsession&title=Svelte: my new obsession" rel="noopener noreferrer" target=_blank title="Submit to Reddit"><svg aria-hidden=true class="fa-svelte svelte-p8vizn" role=img viewBox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><path d="M283.2 345.5c2.7 2.7 2.7 6.8 0 9.2-24.5 24.5-93.8 24.6-118.4 0-2.7-2.4-2.7-6.5 0-9.2 2.4-2.4 6.5-2.4 8.9 0 18.7 19.2 81 19.6 100.5 0 2.4-2.3 6.6-2.3 9 0zm-91.3-53.8c0-14.9-11.9-26.8-26.5-26.8-14.9 0-26.8 11.9-26.8 26.8 0 14.6 11.9 26.5 26.8 26.5 14.6 0 26.5-11.9 26.5-26.5zm90.7-26.8c-14.6 0-26.5 11.9-26.5 26.8 0 14.6 11.9 26.5 26.5 26.5 14.9 0 26.8-11.9 26.8-26.5 0-14.9-11.9-26.8-26.8-26.8zM448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-99.7 140.6c-10.1 0-19 4.2-25.6 10.7-24.1-16.7-56.5-27.4-92.5-28.6l18.7-84.2 59.5 13.4c0 14.6 11.9 26.5 26.5 26.5 14.9 0 26.8-12.2 26.8-26.8 0-14.6-11.9-26.8-26.8-26.8-10.4 0-19.3 6.2-23.8 14.9l-65.7-14.6c-3.3-.9-6.5 1.5-7.4 4.8l-20.5 92.8c-35.7 1.5-67.8 12.2-91.9 28.9-6.5-6.8-15.8-11-25.9-11-37.5 0-49.8 50.4-15.5 67.5-1.2 5.4-1.8 11-1.8 16.7 0 56.5 63.7 102.3 141.9 102.3 78.5 0 142.2-45.8 142.2-102.3 0-5.7-.6-11.6-2.1-17 33.6-17.2 21.2-67.2-16.1-67.2z" fill=currentColor></path></svg> <span class="sr-only svelte-n6z7xj">Submit to Reddit</span> </a></li> <li class=svelte-52p72f><a href="http://www.linkedin.com/shareArticle?mini=true&url=https://pablo.berganza.dev/svelte-my-new-obsession&title=Svelte: my new obsession&summary=I gave Svelte a try and ended up rewriting my whole site&source=https://pablo.berganza.dev/svelte-my-new-obsession" rel="noopener noreferrer" target=_blank title="Share on LinkedIn"><svg aria-hidden=true class="fa-svelte svelte-p8vizn" role=img viewBox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z" fill=currentColor></path></svg> <span class="sr-only svelte-n6z7xj">Share on LinkedIn</span> </a></li> </ul> <label class="svelte-ob38am visuallyhidden" for=commento-textarea-root>Comment</label> <div class=svelte-ob38am id=commento></div> </footer></div> </article> </main></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,{blog:{attributes:{title:"Svelte: my new obsession",description:"I gave Svelte a try and ended up rewriting my whole site",banner:"img\u002Fblog-pics\u002F2020-04-20.jpg",bannertitle:"Thessaloniki, Greece",tags:["svelte","javascript","static sites","programming"],created:"2020-04-20"},body:"I admit I am the kind of person who gets immediately obsessed with something if it is new and interesting. That's how I got into [Clojure](https:\u002F\u002Fclojure.org), how I got into [Rust](https:\u002F\u002Fwww.rust-lang.org\u002F), and how I got into the topic I'm writing about today: [Svelte](https:\u002F\u002Fsvelte.dev\u002F).\n\nSvelte is not a new language I am learning, as it was with Rust and Clojure. It's a JavaScript framework for building single page applications (SPA). Like React, Vue or Angular. Its syntax may remind some people of Vue; but it has a major difference with the typical framework. Svelte does not have a runtime and, unlike the rest, it's not bundled with the rest of your code. Svelte is a compiler. It compiles your components into reactive JavaScript code that modifies the DOM directly. It will produce a small and more performant bundle.\n\n## How does it look?\n\nSvelte tries to stay as close as possible to semantically correct HTML. This means that a simple HTML editor would do the trick for editing a Svelte component.\n\nFor example, the most minimalist component may look like this:\n\n```html\n\u003Cp\u003EHello world!\u003C\u002Fp\u003E\n```\n\nThat's it! That's a valid Svelte component that the compiler will understand.\n\n## How to make it reactive?\n\nOf course if you were going to write components like that, you would be better off writing plain HTML. The reason you're using a JavaScript framework is because you need a way to handle reactivity in your web application. So we need a way to add JavaScript to our component. As you would do with plain HTML, JavaScript can be added inside a `script` tag like this:\n\n```html\n\u003Cscript\u003E\n  console.log('Hello world!')\n\u003C\u002Fscript\u003E\n```\n\nIn order to add “state” to our component we just need to declare JavaScript variables:\n\n```html\n\u003Cscript\u003E\n  let message = 'Hello world!'\n\u003C\u002Fscript\u003E\n```\n\nThese variables can be accessed in the template by using curly braces. This is similar to how Vue does it.\n\n```html\n\u003Cscript\u003E\n  let messsage = 'Hello world!'\n\u003C\u002Fscript\u003E\n\n\u003Cp\u003E{message}\u003C\u002Fp\u003E\n```\n\nThe `message` variable is reactive. If it were to change for some reason (e.g. an event), the contents of the `p` tag would be immediately updated. For example, we can create an input that updates the content of `message`.\n\nThe template of a Svelte component does not need to be a single element, so we can just add an `input` element right after the `p` element.\n\n```html\n\u003Cscript\u003E\n  let message = 'Hello world!'\n\n  function onInput(event) {\n    message = event.target.value\n  }\n\u003C\u002Fscript\u003E\n\n\u003Cp\u003E{message}\u003C\u002Fp\u003E\n\n\u003Cinput value={message} on:input={onInput}\u003E\n```\n\nThis would end up looking like this:\n\n\u003Ciframe title=\"text-input\" src=\"https:\u002F\u002Fpablo-abc.github.io\u002Fpablo.berganza.dev-examples\u002Fsvelte-basic-text-input\u002F\"\u003E\u003C\u002Fiframe\u003E\n\nBut this is still too complicated. Svelte provides some “magic” directives in order to make certain operations easier. The `bind` directive helps with two-way data binding.\n\n```html\n\u003Cscript\u003E\n  let message = 'Hello world!'\n\u003C\u002Fscript\u003E\n\n\u003Cp\u003E{message}\u003C\u002Fp\u003E\n\n\u003Cinput bind:value={message}\u003E\n```\n\nThis would result in the same output we saw above!\n\n\u003E Svelte only handles reactivity on assignments. This means that array methods like `push` and `pop` won't trigger updates on the components.\n\nSvelte also provides [Handlebars](https:\u002F\u002Fhandlebarsjs.com\u002F) like blocks to handle conditional rendering, asynchronicity and loops inside the templates.\n\n## What about styling?\n\nSvelte provides a way to provide scoped styles to your components. As expected, this is done via the `style` HTML tag. Svelte will assign unique classes to each of your component's elements during compilation. You can use any valid CSS inside the tag, but a rollup\u002Fwebpack plugin may be used to accept your favorite variant (e.g. SASS).\n\n```html\n\u003Ch1\u003EHello world!\u003C\u002Fh1\u003E\n\n\u003Cstyle\u003E\n  h1 {\n    color: purple;\n  }\n\u003C\u002Fstyle\u003E\n```\n\nOn compile time, the `h1` tag will be assigned a class generated by Svelte and a CSS selector for this class will be added to the `h1` on the `style` tag.\n\nIf you need to make the selector global you can wrap it in `:global(...)`. For the example above, if we replaced `h1` for `:global(h1)` it would apply the style globally to all `h1` elements of the project. This can be really useful if your project contains dynamically generated HTML not controlled by Svelte, since Svelte wouldn't be able to assign unique classes to the elements inside it. Something like `div :global(h1)` would select all `h1` elements inside all `div` elements of the component. This can be used to guarantee that the style remains scoped to the component.\n\nOf course, you can always have a global CSS file to handle common styling for all components.\n\n## A more complete example\n\nHere's how a simple to-do app would look like in Svelte:\n\n```html\n\u003Cscript\u003E\n  let todos = [], value = '';\n  let filter = 'all';\n  \u002F\u002F The $: tells Svelte to make the statement reactive.\n  \u002F\u002F In this case, the assignment statement to \"filtered\" will be run\n  \u002F\u002F everytime \"todos\" changes.\n  $: filtered = todos.filter(todo =\u003E {\n    if (filter === 'checked') return todo.checked\n    if (filter === 'unchecked') return !todo.checked\n    return todo\n  })\n  function addTodo() {\n    if (!value) return;\n    todos = [...todos, { value, id: Date.now(), checked: false }];\n    value = '';\n  }\n\u003C\u002Fscript\u003E\n\n\u003Cform\u003E\n  \u003Clabel for=all\u003E\n    \u003Cinput type=radio id=all value=all bind:group={filter}\u003E\n    All\n  \u003C\u002Flabel\u003E\n  \u003Clabel for=checked\u003E\n    \u003Cinput type=radio id=checked value=checked bind:group={filter}\u003E\n    Checked\n  \u003C\u002Flabel\u003E\n  \u003Clabel for=unchecked\u003E\n    \u003Cinput type=radio id=unchecked value=unchecked bind:group={filter}\u003E\n    Unchecked\n  \u003C\u002Flabel\u003E\n\u003C\u002Fform\u003E\n\u003Cform on:submit|preventDefault={addTodo}\u003E\n  \u003Cinput bind:value\u003E\n  \u003Cbutton type=submit\u003EAdd Todo\u003C\u002Fbutton\u003E\n\u003C\u002Fform\u003E\n\u003Cul\u003E\n  {#each filtered as todo, i (todo.id)}\n    \u003Cli\u003E\n      \u003Cinput\n        id={todo.id}\n        bind:checked={todo.checked}\n        type=\"checkbox\"\n        \u003E\n      {todo.value}\n    \u003C\u002Fli\u003E\n  {\u002Feach}\n\u003C\u002Ful\u003E\n\n\u003Cstyle\u003E\n  label {\n      display: inline-block;\n      margin: 0 10px;\n  }\n  li {\n      list-style: none;\n  }\n\u003C\u002Fstyle\u003E\n```\n\n\u003Ciframe title=\"todo-app\" height=\"315px\" src=\"https:\u002F\u002Fpablo-abc.github.io\u002Fpablo.berganza.dev-examples\u002Fsvelte-basic-todo-app\u002F\"\u003E\u003C\u002Fiframe\u003E\n\nThis example uses some features I didn't talk about, but the [official tutorial](https:\u002F\u002Fsvelte.dev\u002Ftutorial\u002Fbasics \"Svelte official tutorial\") is great if you're interested in learning more.\n\n## Other features\n\nSvelte also provides some other nice features, such as:\n\n* Built-in transitions and animations.\n* Easily access the document's head, window and body.\n* Lifecycles for the components.\n* Global stores.\n* Compatibility with server side rendering.\n* Components can be exported as web components.\n\n## Why rewrite the whole site?\n\nPreviously my site was written using [Perun](https:\u002F\u002Fperun.io). It is a nice static site generator for Clojure that has tons of flexibility, since each step of the generation can be intercepted. But there were certain aspects of the generation that were hard to change or had little documentation. (I am not bashing on Perun, it is a perfectly great tool. I just wanted more freedom).\n\nPerun generates a plain HTML output with no JavaScript. JavaScript needs to be injected manually. Each page is rendered by renderer functions written in Clojure which output HTML. Unless you installed extra packages, there is no built-in support for scoped styling. And, since the generator runs on top of the JVM, the generation of the site was quite slow.\n\nThis site is not written with plain Svelte. It is using [Sapper](https:\u002F\u002Fsapper.svelte.dev). Sapper is a framework for Svelte inspired in [Next.JS](https:\u002F\u002Fnextjs.org) that allows to build server side rendered web applications. It can also export a static site like Next.JS does. This gives you much more freedom on how the site is generated at the cost of a bit more coding. For example, just as I did with Perun, each post's content source is a markdown file. But for Sapper I manually had to write the process the reads the markdown files and generates the HTML. This allowed me to use libraries I am much more familiar with, such as [Marked](https:\u002F\u002Fgithub.com\u002Fmarkedjs\u002Fmarked) for markdown parsing and [Highlight.js](https:\u002F\u002Fhighlightjs.org\u002F) for code highlighting.\n\nThe resulting site works as an SPA and has some features that I couldn't do previously, some of them:\n\n* Highlighting for GraphQL code.\n* Add working examples of code (such as the ones above).\n* Navigate the whole site without having to do a page reload.\n* Lazy loading of images.\n* Embedding external elements to blog posts, like YouTube videos.\n\nIt also brought some DX improvements such as:\n\n* Reusable components.\n* Scoped CSS styling, which helped with some headaches I had previously due to my lack of CSS knowledge.\n* Much faster generation of the static files.\n* Easily add more interactive elements to the site. (I might add a search bar for my blog posts at a later time).\n* It's easier to follow a more maintainable code structure.\n\nOne downside to using Svelte is its lack of TypeScript support (although this is being worked on).\nAnother downside is that Sapper is still in early development, so I would not recommend it for serious projects. Svelte itself is ready for production, though.\nIt also has a much smaller ecosystem than other mainstream frameworks.\n\n## Conclusion\n\nEven taking into account the downsides mentioned before, Svelte\u002FSapper has been a joy to work with. In under 20 hours of combined work I managed to rewrite my whole site. Svelte should be an excellent choice for performance critical web applications, and it's syntax is easier to grasp compared to other frameworks. It should definitely not be considered a “toy” framework and I encourage you to add it to your tool set.\n\nAs a little extra, here's the talk that got me excited about Svelte. I recommend everyone with a slight interest on Svelte to watch it.\n\n\u003Cdiv class=\"yt-vid\"\u003E\n    \u003Cyt-vid alt=\"Rethinking Reactivity - Rich Harris\" src=\"https:\u002F\u002Fwww.youtube-nocookie.com\u002Fembed\u002FAdNJ3fydeao\" allowfullscreen\u003E\u003C\u002Fyt-vid\u003E\n\u003C\u002Fdiv\u003E\n",bodyBegin:13,frontmatter:"title: 'Svelte: my new obsession'\ndescription: I gave Svelte a try and ended up rewriting my whole site\nbanner: img\u002Fblog-pics\u002F2020-04-20.jpg\nbannertitle: Thessaloniki, Greece\ntags:\n    - svelte\n    - javascript\n    - static sites\n    - programming",path:"\u002FUsers\u002FPabloABC\u002FDocuments\u002FPersonal\u002FJavaScript\u002FSvelte\u002Fpablo.berganza.dev\u002Fsrc\u002Fmarkdown\u002Fblog\u002F2020-04-20-svelte-my-new-obsession\u002Findex.en.md",html:"\u003Cp\u003EI admit I am the kind of person who gets immediately obsessed with something if it is new and interesting. That&#39;s how I got into \u003Ca\n            href=\"https:\u002F\u002Fclojure.org\"\n            target=\"_blank\" rel=\"noopener noreferrer\"\n            title=\"Clojure\"\n          \u003E\n            Clojure\n          \u003C\u002Fa\u003E, how I got into \u003Ca\n            href=\"https:\u002F\u002Fwww.rust-lang.org\u002F\"\n            target=\"_blank\" rel=\"noopener noreferrer\"\n            title=\"Rust\"\n          \u003E\n            Rust\n          \u003C\u002Fa\u003E, and how I got into the topic I&#39;m writing about today: \u003Ca\n            href=\"https:\u002F\u002Fsvelte.dev\u002F\"\n            target=\"_blank\" rel=\"noopener noreferrer\"\n            title=\"Svelte\"\n          \u003E\n            Svelte\n          \u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003ESvelte is not a new language I am learning, as it was with Rust and Clojure. It&#39;s a JavaScript framework for building single page applications (SPA). Like React, Vue or Angular. Its syntax may remind some people of Vue; but it has a major difference with the typical framework. Svelte does not have a runtime and, unlike the rest, it&#39;s not bundled with the rest of your code. Svelte is a compiler. It compiles your components into reactive JavaScript code that modifies the DOM directly. It will produce a small and more performant bundle.\u003C\u002Fp\u003E\n\u003Ch2 id=\"how-does-it-look\"\u003EHow does it look?\u003C\u002Fh2\u003E\n\u003Cp\u003ESvelte tries to stay as close as possible to semantically correct HTML. This means that a simple HTML editor would do the trick for editing a Svelte component.\u003C\u002Fp\u003E\n\u003Cp\u003EFor example, the most minimalist component may look like this:\u003C\u002Fp\u003E\n\u003Cpre class=\"html hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ep\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003EHello world!\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ep\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EThat&#39;s it! That&#39;s a valid Svelte component that the compiler will understand.\u003C\u002Fp\u003E\n\u003Ch2 id=\"how-to-make-it-reactive\"\u003EHow to make it reactive?\u003C\u002Fh2\u003E\n\u003Cp\u003EOf course if you were going to write components like that, you would be better off writing plain HTML. The reason you&#39;re using a JavaScript framework is because you need a way to handle reactivity in your web application. So we need a way to add JavaScript to our component. As you would do with plain HTML, JavaScript can be added inside a \u003Ccode\u003Escript\u003C\u002Fcode\u003E tag like this:\u003C\u002Fp\u003E\n\u003Cpre class=\"html hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-built_in\"\u003Econsole\u003C\u002Fspan\u003E.log(\u003Cspan class=\"hljs-string\"\u003E'Hello world!'\u003C\u002Fspan\u003E)\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EIn order to add “state” to our component we just need to declare JavaScript variables:\u003C\u002Fp\u003E\n\u003Cpre class=\"html hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E message = \u003Cspan class=\"hljs-string\"\u003E'Hello world!'\u003C\u002Fspan\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EThese variables can be accessed in the template by using curly braces. This is similar to how Vue does it.\u003C\u002Fp\u003E\n\u003Cpre class=\"html hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E messsage = \u003Cspan class=\"hljs-string\"\u003E'Hello world!'\u003C\u002Fspan\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ep\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E{message}\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ep\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EThe \u003Ccode\u003Emessage\u003C\u002Fcode\u003E variable is reactive. If it were to change for some reason (e.g. an event), the contents of the \u003Ccode\u003Ep\u003C\u002Fcode\u003E tag would be immediately updated. For example, we can create an input that updates the content of \u003Ccode\u003Emessage\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EThe template of a Svelte component does not need to be a single element, so we can just add an \u003Ccode\u003Einput\u003C\u002Fcode\u003E element right after the \u003Ccode\u003Ep\u003C\u002Fcode\u003E element.\u003C\u002Fp\u003E\n\u003Cpre class=\"html hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E message = \u003Cspan class=\"hljs-string\"\u003E'Hello world!'\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EonInput\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003Eevent\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n    message = event.target.value\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ep\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E{message}\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ep\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Einput\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{message}\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eon:input\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{onInput}\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EThis would end up looking like this:\u003C\u002Fp\u003E\n\u003Ciframe title=\"text-input\" src=\"https:\u002F\u002Fpablo-abc.github.io\u002Fpablo.berganza.dev-examples\u002Fsvelte-basic-text-input\u002F\"\u003E\u003C\u002Fiframe\u003E\n\n\u003Cp\u003EBut this is still too complicated. Svelte provides some “magic” directives in order to make certain operations easier. The \u003Ccode\u003Ebind\u003C\u002Fcode\u003E directive helps with two-way data binding.\u003C\u002Fp\u003E\n\u003Cpre class=\"html hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E message = \u003Cspan class=\"hljs-string\"\u003E'Hello world!'\u003C\u002Fspan\u003E\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ep\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E{message}\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ep\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Einput\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ebind:value\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{message}\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EThis would result in the same output we saw above!\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003ESvelte only handles reactivity on assignments. This means that array methods like \u003Ccode\u003Epush\u003C\u002Fcode\u003E and \u003Ccode\u003Epop\u003C\u002Fcode\u003E won&#39;t trigger updates on the components.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003ESvelte also provides \u003Ca\n            href=\"https:\u002F\u002Fhandlebarsjs.com\u002F\"\n            target=\"_blank\" rel=\"noopener noreferrer\"\n            title=\"Handlebars\"\n          \u003E\n            Handlebars\n          \u003C\u002Fa\u003E like blocks to handle conditional rendering, asynchronicity and loops inside the templates.\u003C\u002Fp\u003E\n\u003Ch2 id=\"what-about-styling\"\u003EWhat about styling?\u003C\u002Fh2\u003E\n\u003Cp\u003ESvelte provides a way to provide scoped styles to your components. As expected, this is done via the \u003Ccode\u003Estyle\u003C\u002Fcode\u003E HTML tag. Svelte will assign unique classes to each of your component&#39;s elements during compilation. You can use any valid CSS inside the tag, but a rollup\u002Fwebpack plugin may be used to accept your favorite variant (e.g. SASS).\u003C\u002Fp\u003E\n\u003Cpre class=\"html hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eh1\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003EHello world!\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Eh1\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"css\"\u003E\n  \u003Cspan class=\"hljs-selector-tag\"\u003Eh1\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-attribute\"\u003Ecolor\u003C\u002Fspan\u003E: purple;\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EOn compile time, the \u003Ccode\u003Eh1\u003C\u002Fcode\u003E tag will be assigned a class generated by Svelte and a CSS selector for this class will be added to the \u003Ccode\u003Eh1\u003C\u002Fcode\u003E on the \u003Ccode\u003Estyle\u003C\u002Fcode\u003E tag.\u003C\u002Fp\u003E\n\u003Cp\u003EIf you need to make the selector global you can wrap it in \u003Ccode\u003E:global(...)\u003C\u002Fcode\u003E. For the example above, if we replaced \u003Ccode\u003Eh1\u003C\u002Fcode\u003E for \u003Ccode\u003E:global(h1)\u003C\u002Fcode\u003E it would apply the style globally to all \u003Ccode\u003Eh1\u003C\u002Fcode\u003E elements of the project. This can be really useful if your project contains dynamically generated HTML not controlled by Svelte, since Svelte wouldn&#39;t be able to assign unique classes to the elements inside it. Something like \u003Ccode\u003Ediv :global(h1)\u003C\u002Fcode\u003E would select all \u003Ccode\u003Eh1\u003C\u002Fcode\u003E elements inside all \u003Ccode\u003Ediv\u003C\u002Fcode\u003E elements of the component. This can be used to guarantee that the style remains scoped to the component.\u003C\u002Fp\u003E\n\u003Cp\u003EOf course, you can always have a global CSS file to handle common styling for all components.\u003C\u002Fp\u003E\n\u003Ch2 id=\"a-more-complete-example\"\u003EA more complete example\u003C\u002Fh2\u003E\n\u003Cp\u003EHere&#39;s how a simple to-do app would look like in Svelte:\u003C\u002Fp\u003E\n\u003Cpre class=\"html hljs\"\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E todos = [], value = \u003Cspan class=\"hljs-string\"\u003E''\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E filter = \u003Cspan class=\"hljs-string\"\u003E'all'\u003C\u002Fspan\u003E;\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F The $: tells Svelte to make the statement reactive.\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F In this case, the assignment statement to \"filtered\" will be run\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F everytime \"todos\" changes.\u003C\u002Fspan\u003E\n  $: filtered = todos.filter(\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Etodo\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-keyword\"\u003Eif\u003C\u002Fspan\u003E (filter === \u003Cspan class=\"hljs-string\"\u003E'checked'\u003C\u002Fspan\u003E) \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E todo.checked\n    \u003Cspan class=\"hljs-keyword\"\u003Eif\u003C\u002Fspan\u003E (filter === \u003Cspan class=\"hljs-string\"\u003E'unchecked'\u003C\u002Fspan\u003E) \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E !todo.checked\n    \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E todo\n  })\n  \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EaddTodo\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003E\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n    \u003Cspan class=\"hljs-keyword\"\u003Eif\u003C\u002Fspan\u003E (!value) \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E;\n    todos = [...todos, { value, \u003Cspan class=\"hljs-attr\"\u003Eid\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E.now(), \u003Cspan class=\"hljs-attr\"\u003Echecked\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-literal\"\u003Efalse\u003C\u002Fspan\u003E }];\n    value = \u003Cspan class=\"hljs-string\"\u003E''\u003C\u002Fspan\u003E;\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eform\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Elabel\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Efor\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003Eall\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Einput\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Etype\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003Eradio\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eid\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003Eall\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003Eall\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ebind:group\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{filter}\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    All\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Elabel\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Elabel\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Efor\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003Echecked\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Einput\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Etype\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003Eradio\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eid\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003Echecked\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003Echecked\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ebind:group\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{filter}\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    Checked\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Elabel\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Elabel\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Efor\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003Eunchecked\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Einput\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Etype\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003Eradio\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eid\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003Eunchecked\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003Eunchecked\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ebind:group\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{filter}\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    Unchecked\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Elabel\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Eform\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eform\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eon:submit\u003C\u002Fspan\u003E|\u003Cspan class=\"hljs-attr\"\u003EpreventDefault\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{addTodo}\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Einput\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ebind:value\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ebutton\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Etype\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003Esubmit\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003EAdd Todo\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ebutton\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Eform\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eul\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  {#each filtered as todo, i (todo.id)}\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eli\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Einput\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-attr\"\u003Eid\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{todo.id}\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-attr\"\u003Ebind:checked\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{todo.checked}\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-attr\"\u003Etype\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"checkbox\"\u003C\u002Fspan\u003E\n        &gt;\u003C\u002Fspan\u003E\n      {todo.value}\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Eli\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  {\u002Feach}\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Eul\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"css\"\u003E\n  \u003Cspan class=\"hljs-selector-tag\"\u003Elabel\u003C\u002Fspan\u003E {\n      \u003Cspan class=\"hljs-attribute\"\u003Edisplay\u003C\u002Fspan\u003E: inline-block;\n      \u003Cspan class=\"hljs-attribute\"\u003Emargin\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-number\"\u003E10px\u003C\u002Fspan\u003E;\n  }\n  \u003Cspan class=\"hljs-selector-tag\"\u003Eli\u003C\u002Fspan\u003E {\n      \u003Cspan class=\"hljs-attribute\"\u003Elist-style\u003C\u002Fspan\u003E: none;\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Estyle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ciframe title=\"todo-app\" height=\"315px\" src=\"https:\u002F\u002Fpablo-abc.github.io\u002Fpablo.berganza.dev-examples\u002Fsvelte-basic-todo-app\u002F\"\u003E\u003C\u002Fiframe\u003E\n\n\u003Cp\u003EThis example uses some features I didn&#39;t talk about, but the \u003Ca\n            href=\"https:\u002F\u002Fsvelte.dev\u002Ftutorial\u002Fbasics\"\n            target=\"_blank\" rel=\"noopener noreferrer\"\n            title=\"Svelte official tutorial\"\n          \u003E\n            official tutorial\n          \u003C\u002Fa\u003E is great if you&#39;re interested in learning more.\u003C\u002Fp\u003E\n\u003Ch2 id=\"other-features\"\u003EOther features\u003C\u002Fh2\u003E\n\u003Cp\u003ESvelte also provides some other nice features, such as:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EBuilt-in transitions and animations.\u003C\u002Fli\u003E\n\u003Cli\u003EEasily access the document&#39;s head, window and body.\u003C\u002Fli\u003E\n\u003Cli\u003ELifecycles for the components.\u003C\u002Fli\u003E\n\u003Cli\u003EGlobal stores.\u003C\u002Fli\u003E\n\u003Cli\u003ECompatibility with server side rendering.\u003C\u002Fli\u003E\n\u003Cli\u003EComponents can be exported as web components.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"why-rewrite-the-whole-site\"\u003EWhy rewrite the whole site?\u003C\u002Fh2\u003E\n\u003Cp\u003EPreviously my site was written using \u003Ca\n            href=\"https:\u002F\u002Fperun.io\"\n            target=\"_blank\" rel=\"noopener noreferrer\"\n            title=\"Perun\"\n          \u003E\n            Perun\n          \u003C\u002Fa\u003E. It is a nice static site generator for Clojure that has tons of flexibility, since each step of the generation can be intercepted. But there were certain aspects of the generation that were hard to change or had little documentation. (I am not bashing on Perun, it is a perfectly great tool. I just wanted more freedom).\u003C\u002Fp\u003E\n\u003Cp\u003EPerun generates a plain HTML output with no JavaScript. JavaScript needs to be injected manually. Each page is rendered by renderer functions written in Clojure which output HTML. Unless you installed extra packages, there is no built-in support for scoped styling. And, since the generator runs on top of the JVM, the generation of the site was quite slow.\u003C\u002Fp\u003E\n\u003Cp\u003EThis site is not written with plain Svelte. It is using \u003Ca\n            href=\"https:\u002F\u002Fsapper.svelte.dev\"\n            target=\"_blank\" rel=\"noopener noreferrer\"\n            title=\"Sapper\"\n          \u003E\n            Sapper\n          \u003C\u002Fa\u003E. Sapper is a framework for Svelte inspired in \u003Ca\n            href=\"https:\u002F\u002Fnextjs.org\"\n            target=\"_blank\" rel=\"noopener noreferrer\"\n            title=\"Next.JS\"\n          \u003E\n            Next.JS\n          \u003C\u002Fa\u003E that allows to build server side rendered web applications. It can also export a static site like Next.JS does. This gives you much more freedom on how the site is generated at the cost of a bit more coding. For example, just as I did with Perun, each post&#39;s content source is a markdown file. But for Sapper I manually had to write the process the reads the markdown files and generates the HTML. This allowed me to use libraries I am much more familiar with, such as \u003Ca\n            href=\"https:\u002F\u002Fgithub.com\u002Fmarkedjs\u002Fmarked\"\n            target=\"_blank\" rel=\"noopener noreferrer\"\n            title=\"Marked\"\n          \u003E\n            Marked\n          \u003C\u002Fa\u003E for markdown parsing and \u003Ca\n            href=\"https:\u002F\u002Fhighlightjs.org\u002F\"\n            target=\"_blank\" rel=\"noopener noreferrer\"\n            title=\"Highlight.js\"\n          \u003E\n            Highlight.js\n          \u003C\u002Fa\u003E for code highlighting.\u003C\u002Fp\u003E\n\u003Cp\u003EThe resulting site works as an SPA and has some features that I couldn&#39;t do previously, some of them:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EHighlighting for GraphQL code.\u003C\u002Fli\u003E\n\u003Cli\u003EAdd working examples of code (such as the ones above).\u003C\u002Fli\u003E\n\u003Cli\u003ENavigate the whole site without having to do a page reload.\u003C\u002Fli\u003E\n\u003Cli\u003ELazy loading of images.\u003C\u002Fli\u003E\n\u003Cli\u003EEmbedding external elements to blog posts, like YouTube videos.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EIt also brought some DX improvements such as:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EReusable components.\u003C\u002Fli\u003E\n\u003Cli\u003EScoped CSS styling, which helped with some headaches I had previously due to my lack of CSS knowledge.\u003C\u002Fli\u003E\n\u003Cli\u003EMuch faster generation of the static files.\u003C\u002Fli\u003E\n\u003Cli\u003EEasily add more interactive elements to the site. (I might add a search bar for my blog posts at a later time).\u003C\u002Fli\u003E\n\u003Cli\u003EIt&#39;s easier to follow a more maintainable code structure.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EOne downside to using Svelte is its lack of TypeScript support (although this is being worked on).\nAnother downside is that Sapper is still in early development, so I would not recommend it for serious projects. Svelte itself is ready for production, though.\nIt also has a much smaller ecosystem than other mainstream frameworks.\u003C\u002Fp\u003E\n\u003Ch2 id=\"conclusion\"\u003EConclusion\u003C\u002Fh2\u003E\n\u003Cp\u003EEven taking into account the downsides mentioned before, Svelte\u002FSapper has been a joy to work with. In under 20 hours of combined work I managed to rewrite my whole site. Svelte should be an excellent choice for performance critical web applications, and it&#39;s syntax is easier to grasp compared to other frameworks. It should definitely not be considered a “toy” framework and I encourage you to add it to your tool set.\u003C\u002Fp\u003E\n\u003Cp\u003EAs a little extra, here&#39;s the talk that got me excited about Svelte. I recommend everyone with a slight interest on Svelte to watch it.\u003C\u002Fp\u003E\n\u003Cdiv class=\"yt-vid\"\u003E\n    \u003Cyt-vid alt=\"Rethinking Reactivity - Rich Harris\" src=\"https:\u002F\u002Fwww.youtube-nocookie.com\u002Fembed\u002FAdNJ3fydeao\" allowfullscreen\u003E\u003C\u002Fyt-vid\u003E\n\u003C\u002Fdiv\u003E\n",ttr:9,slug:"svelte-my-new-obsession"}}],session:{lang:"en"}};(function(){try{eval("async function x(){}");var main="/client/client.bf27dbf9.js"}catch(e){main="/client/legacy/client.57da743e.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> 